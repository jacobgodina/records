import{v as d,r as l,a as S,h as M,i as E,j as e,q as R,w as q,s as B}from"./index-23bfd1f9.js";import{U}from"./user-2-9d0d5a9e.js";import{c as p}from"./createLucideIcon-abaf8de9.js";import{L as $,H as A,S as H,P as D}from"./search-999f6302.js";import{P as G}from"./plus-7e569380.js";const I=p("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),V=p("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),F=p("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),_=p("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Y=p("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),J=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),K=()=>{const[t,s]=l.useState(!1),r=l.useRef(null),{toggleTheme:n}=S(),{setUser:i,userInfo:a}=M(),o=E(),h=()=>{s(!t)},m=()=>{s(!1)};return l.useEffect(()=>{const x=f=>{r.current&&!r.current.contains(f.target)&&m()};return document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}},[]),e.jsxs("div",{className:"relative inline-block text-left",ref:r,children:[e.jsx("button",{className:"relative w-9 h-9 rounded-full hover:scale-105","aria-label":"Toggle menu",title:"Toggle",onClick:h,children:a.profile&&a.profile!==null&&a.profile!==void 0&&a.profile!==""?e.jsx("div",{children:e.jsx("img",{src:`${R}img/profile/${a.profile}`,alt:"profile",className:"object-cover w-9 h-9 max-w-[40px] max-h-[40px] rounded-full"})}):e.jsx(U,{alt:"profile",className:"object-cover rounded-full w-full h-full bg-zinc-800 p-0.5"})}),t&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-36 rounded-md shadow-lg bg-zinc-900 ring-1 ring-black ring-opacity-5 focus:outline-none z-[998]",children:[e.jsx(k,{title:"Switch Theme to Gradient or Dark",onClick:n,label:"Switch",icon:e.jsx(Y,{className:"w-5 h-5"})}),e.jsx(k,{title:"User Profile",onClick:()=>{o("/profile"),s(!1)},label:"Profile",icon:e.jsx(J,{className:"w-5 h-5"})}),e.jsx(k,{title:"Logout",onClick:()=>{i(!1),localStorage.clear("user_id"),localStorage.clear("current_path"),localStorage.clear(),window.location.reload()},label:"Logout",icon:e.jsx(F,{className:"w-5 h-5"})})]})]})},k=({title:t,onClick:s,label:r,icon:n})=>e.jsxs("button",{title:t,onClick:s,className:"p-2.5 w-full text-zinc-200 font-normal flex items-center justify-center gap-2 rounded-sm bg-zinc-900 hover:bg-white/10","aria-label":"right",children:[n,r]});k.propTypes={title:d.PropTypes.string,onClick:d.PropTypes.any,label:d.PropTypes.any,icon:d.PropTypes.any};const Q=()=>{const[t,s]=l.useState(!1),r=l.useRef(null),n=a=>{a.stopPropagation(),s(!t)},i=()=>{s(!1)};return l.useEffect(()=>{const a=o=>{(r.current&&!r.current.contains(o.target)&&o.target.tagName!=="BUTTON"||o.target.tagName==="A")&&i()};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[]),l.useEffect(()=>{const a=document.querySelector(".scroll");return a&&(a.style.overflow=t?"hidden":""),()=>{a&&(a.style.overflow="")}},[t]),e.jsxs("div",{className:"block sm:hidden z-[998]",children:[e.jsx("button",{onClick:n,children:e.jsx(_,{})}),e.jsxs("nav",{ref:r,className:`${t?"left-0":"left-[-200%]"} w-[80%] h-screen absolute bg-black z-[999] p-0 m-0 top-0`,style:{transitionDuration:"0.3s"},children:[T("Home","/",e.jsx(A,{className:"w-7 h-7"})),T("Search","/search",e.jsx(H,{className:"w-7 h-7"})),T("Upload","/upload",e.jsx(D,{className:"w-7 h-7"})),e.jsx("div",{className:"p-1 rounded-t-md bg-black mt-2 ",children:e.jsxs("div",{className:"flex items-center justify-between text-zinc-400 gap-2 mb-5 ml-1 px-4 py-1",children:[W("Create Playlist"),X()]})})]})]})},T=(t,s,r)=>e.jsxs(q,{title:t,to:s,className:({isActive:n,isPending:i,isTransitioning:a})=>[i?"pending":"",n?"bg-white/5  transition-all ease-in-out duration-300":"",a?"transitioning":""].join(" flex items-center text-base text-zinc-400 hover:text-zinc-100 gap-4 transition-all ease-in-out duration-300 font-bold rounded-md p-3.5 hover:bg-white/5 "),children:[r," ",t]}),W=t=>e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx($,{className:"w-7 h-7"}),e.jsx("h1",{className:"text-lg font-bold",children:t})]}),X=()=>e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(B,{to:"/create/playlist","aria-label":"Create",className:"rounded-full bg-white/5 group p-2",title:"Create a Playlist?",children:e.jsx(G,{className:"w-4 h-4 text-zinc-400 group-hover:text-white transition-all ease-in-out"})})});var Z=Object.assign||function(t){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t};function ee(t,s){var r={},n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>s.indexOf(n)&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)0>s.indexOf(n[i])&&(r[n[i]]=t[n[i]])}return r}var te={position:"sticky"};function ne(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var r=l.useRef(null);return l.useEffect(function(){t.forEach(function(n){n&&(typeof n=="function"?n(r.current):n.current=r.current)})},[t]),r}var re=l.forwardRef(function(t,s){var r=t.children,n=t.disabled,i=t.render;t=ee(t,["children","disabled","render"]);var a=l.useState("unfixed"),o=a[0],h=a[1],m=l.useRef(0),x=l.useRef(0),f=l.useState(0);a=f[0];var O=f[1];f=l.useRef(null);var u=ne(s,f),y=l.useRef(null),v=l.useCallback(function(){if(u.current&&!n){var g=window.pageYOffset;if(!(0>g)){var c=u.current.classList,C=0<g-m.current?"down":"up",b=x.current+m.current-g,j=u.current.getBoundingClientRect(),P=j.height;j=j.top;var z=C==="down"?Math.max(b,-P):Math.min(b,0);x.current=z,u.current.style.top=z.toString(),i&&O(z),C==="down"&&!c.contains("hidden")&&b<-P&&(h("hidden"),c.remove("pinned","unfixed"),c.add("hidden")),C==="up"&&!c.contains("pinned")&&b>-P&&(h("pinned"),c.remove("hidden","unfixed"),c.add("pinned")),!c.contains("unfixed")&&(0<j||g===0)&&(h("unfixed"),c.remove("hidden","pinned"),c.add("unfixed")),m.current=g,y.current=null}}},[n,u,i]),w=l.useCallback(function(){y.current&&window.cancelAnimationFrame(y.current),y.current=window.requestAnimationFrame(v)},[v]),L=l.useCallback(function(){typeof window<"u"&&window.addEventListener("scroll",w)},[w]),N=l.useCallback(function(){typeof window<"u"&&window.removeEventListener("scroll",w)},[w]);return l.useEffect(function(){return n?N():L(),function(){return N()}},[n,L,N]),l.useEffect(function(){n||v()},[n,v]),i?i({position:o,ref:u,top:a}):l.createElement("nav",Z({},t,{ref:u,style:te}),typeof r=="function"?r(o):r)}),se=l.memo(re);const ae=se,le=({children:t,className:s,position:r})=>{const n=E(),{currentTheme:i}=S(),a=o=>{n(o)};return e.jsx(ae,{className:"z-[1]",children:e.jsxs("div",{className:`flex items-center justify-between gap-4 z-[1] ${r>=20?`${i==="dark"?"bg-zinc-900":""} `:"transparent"} ${s}`,style:{transition:"background-color 0.3s ease-in-out"},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Q,{}),e.jsx("button",{onClick:()=>a(-1),title:"Go Back",className:"p-1 rounded-full bg-white/5 hover:bg-white/10","aria-label":"left",children:e.jsx(I,{})}),e.jsx("button",{onClick:()=>a(1),title:"Go Next",className:"p-1 rounded-full bg-white/5 hover:bg-white/10","aria-label":"right",children:e.jsx(V,{})}),t]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(K,{})})]})})};le.propTypes={children:d.PropTypes.node,className:d.PropTypes.string,position:d.PropTypes.any};export{le as T};
